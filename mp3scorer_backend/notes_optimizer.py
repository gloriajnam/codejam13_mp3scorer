def optimize_notes(chords):
    interval_time = 125
    notes_list = [subchord[0] for subchord in chords]
    pitch_to_notes = {21: 'a/0', 22: 'a/0#', 23: 'b/0',
                      24: 'c/1', 25: 'c/1#', 26: 'd/1', 27: 'd/1#', 28: 'e/1', 29: 'f/1', 30: 'f/1#', 31: 'g/1',
                      32: 'g/1#', 33: 'g/1', 34: 'a/1#', 35: 'b/1',
                      36: 'c/2', 37: 'c/2#', 38: 'd/2', 39: 'd/2#', 40: 'e/2', 41: 'f/2', 42: 'f/2#', 43: 'g/2',
                      44: 'g/2#', 45: 'g/2', 46: 'a/2#', 47: 'b/2',
                      48: 'c/3', 49: 'c/3#', 50: 'd/3', 51: 'd/3#', 52: 'e/3', 53: 'f/3', 54: 'f/3#', 55: 'g/3',
                      56: 'g/3#', 57: 'g/3', 58: 'a/3#', 59: 'b/3',
                      60: 'c/4', 61: 'c/4#', 62: 'd/4', 63: 'd/4#', 64: 'e/4', 65: 'f/4', 66: 'f/4#', 67: 'g/4',
                      68: 'g/4#', 69: 'g/4', 70: 'a/4#', 71: 'b/4',
                      72: 'c/5', 73: 'c/5#', 74: 'd/5', 75: 'd/5#', 76: 'e/5', 77: 'f/5', 78: 'f/5#', 79: 'g/5',
                      80: 'g/5#', 81: 'g/5', 82: 'a/5#', 83: 'b/5',
                      84: 'c/6', 85: 'c/6#', 86: 'd/6', 87: 'd/6#', 88: 'e/6', 89: 'f/6', 90: 'f/6#', 91: 'g/6',
                      92: 'g/6#', 93: 'g/6', 94: 'a/6#', 95: 'b/6',
                      96: 'c/7', 97: 'c/7#', 98: 'd/7', 99: 'd/7#', 100: 'e/7', 101: 'f/7', 102: 'f/7#', 103: 'g/7',
                      104: 'g/7#', 105: 'a/7', 106: 'a/7#', 107: 'b/7'}

    length_to_notes = {125: '16', 250: '8', 375: '8d', 500: '4', 625: '4', 750: '4d', 875: '4d', 1000: 'h', 1125: 'h'}

    time_diff = notes_list[0][1]

    for i in range(len(notes_list)):
        notes_list[i].remove('note')
        del notes_list[i][2]
        notes_list[i][0] -= time_diff
        notes_list[i][2] = pitch_to_notes.get(notes_list[i][2])
        del notes_list[i][3]

    for j in range(len(notes_list)):
        if (notes_list[j][0] % interval_time) < (interval_time/2):
            if (notes_list[j][1] % interval_time) < (interval_time/2):
                notes_list[j][1] = (notes_list[j][1] // interval_time) * interval_time
            else:
                notes_list[j][1] = (notes_list[j][1] // interval_time + 1) * interval_time
            notes_list[j][0] = (notes_list[j][0] // interval_time) * interval_time
        else:
            if (notes_list[j][1] % interval_time) < (interval_time/2):
                notes_list[j][1] = (notes_list[j][1] // interval_time) * interval_time
            else:
                notes_list[j][1] = (notes_list[j][1] // interval_time + 1) * interval_time
            notes_list[j][0] = (notes_list[j][0] // interval_time + 1) * interval_time

    indices_to_remove = []
    for i in range(len(notes_list)-1):
        if (notes_list[i][0]==notes_list[i+1][0]):
            if notes_list[i][1]>=notes_list[i+1][1]:
                indices_to_remove.append(i+1)
            else:
                indices_to_remove(i)
        if (notes_list[i][0]+notes_list[i][1]) > notes_list[i+1][0]:
            if (notes_list[i][0]+notes_list[i][1]) >= (notes_list[i+1][0]+notes_list[i+1][1]):
                indices_to_remove.append(i+1)
            else:
                notes_list[i][1] = notes_list[i+1][0] - notes_list[i][0]

    for index in sorted(indices_to_remove, reverse=True):
        del notes_list[index]

    for i in range(len(notes_list)-1):
        if (notes_list[i][0]+notes_list[i][1]) < notes_list[i+1][0]:
            print(notes_list[i][0])
            if (notes_list[i+1][0]-notes_list[i][0]-notes_list[i][1]) < 125:
                notes_list[i][1] = notes_list[i+1][0]-notes_list[1][0]
                print(notes_list[i][0])
                print(notes_list[i+1][0])
            else:
                notes_list.insert(i+1,[notes_list[i][0]+notes_list[i][1],notes_list[i+1][0]-notes_list[i][0]-notes_list[i][1],''])

    for i in range(len(notes_list)):
        notes_list[i][1] = length_to_notes.get(notes_list[i][1])
    return notes_list

# chords = [[['note', 12350, 350, 1, 56, 88]], [['note', 12550, 357, 1, 57, 77]], [['note', 12910, 616, 1, 57, 96]], [['note', 13640, 150, 0, 64, 96]], [['note', 13790, 320, 0, 64, 108]], [['note', 14110, 263, 0, 64, 92]], [['note', 14370, 740, 0, 64, 98]], [['note', 15140, 758, 0, 66, 99]], [['note', 15890, 652, 0, 66, 87]], [['note', 16640, 605, 0, 64, 97]], [['note', 17240, 230, 0, 64, 82]], [['note', 18150, 139, 1, 60, 83]], [['note', 18340, 547, 1, 62, 89]], [['note', 18890, 729, 1, 62, 98]], [['note', 19620, 783, 1, 61, 104]], [['note', 20400, 616, 1, 61, 95]], [['note', 21720, 164, 1, 59, 91]], [['note', 21890, 591, 1, 59, 100]], [['note', 22640, 376, 1, 57, 103]], [['note', 23010, 627, 1, 57, 87]], [['note', 24160, 693, 0, 64, 93]], [['note', 24860, 707, 0, 64, 96]], [['note', 25610, 146, 1, 62, 101]], [['note', 25760, 324, 1, 62, 103]], [['note', 26080, 285, 1, 62, 76]], [['note', 26370, 707, 1, 62, 98]], [['note', 27080, 814, 1, 61, 91]], [['note', 27220, 325, 0, 89, 55]], [['note', 27900, 401, 1, 61, 107]], [['note', 28300, 277, 1, 61, 76]], [['note', 28640, 798, 1, 59, 104]], [['note', 29440, 284, 1, 59, 87]], [['note', 30020, 161, 0, 64, 98]], [['note', 30180, 765, 0, 64, 95]], [['note', 30940, 612, 0, 64, 97]], [['note', 31650, 795, 1, 62, 103]], [['note', 32440, 718, 1, 62, 105]], [['note', 33160, 400, 1, 61, 108]], [['note', 33560, 296, 1, 61, 95]], [['note', 33860, 685, 1, 61, 95]], [['note', 34640, 827, 1, 59, 103]], [['note', 36350, 591, 1, 57, 90]], [['note', 36940, 626, 1, 57, 95]], [['note', 37750, 696, 0, 64, 102]], [['note', 38440, 740, 0, 64, 99]], [['note', 39230, 805, 0, 66, 100]], [['note', 40040, 627, 0, 66, 82]], [['note', 40070, 232, 0, 85, 43]], [['note', 40730, 728, 0, 64, 102]], [['note', 41460, 263, 0, 64, 70]], [['note', 42440, 503, 1, 62, 95]], [['note', 43010, 706, 1, 62, 101]], [['note', 43720, 332, 1, 61, 103]], [['note', 44050, 492, 1, 61, 104]], [['note', 44540, 627, 1, 61, 99]], [['note', 45940, 197, 1, 59, 78]], [['note', 46130, 503, 1, 59, 104]], [['note', 46810, 535, 1, 57, 105]], [['note', 47340, 354, 1, 57, 99]], [['note', 47700, 412, 1, 57, 94]], [['note', 54630, 161, 1, 57, 106]], [['note', 54790, 568, 1, 57, 89]], [['note', 55360, 627, 1, 57, 96]], [['note', 56040, 740, 0, 64, 101]], [['note', 56780, 725, 0, 64, 100]], [['note', 57520, 354, 0, 66, 105]], [['note', 57880, 412, 0, 66, 86]], [['note', 58290, 638, 0, 66, 94]], [['note', 59080, 875, 0, 64, 101]], [['note', 59950, 288, 0, 64, 85]], [['note', 60660, 342, 1, 62, 108]], [['note', 61000, 434, 1, 62, 95]], [['note', 61440, 243, 0, 86, 42], ['note', 61440, 557, 1, 62, 102]], [['note', 61990, 175, 1, 62, 87]], [['note', 62170, 838, 1, 61, 107]], [['note', 63010, 718, 1, 61, 95]], [['note', 64550, 139, 1, 59, 108]], [['note', 64690, 150, 1, 59, 111]], [['note', 64840, 353, 1, 59, 95]], [['note', 65280, 627, 1, 57, 105]], [['note', 65910, 525, 1, 57, 82]], [['note', 66780, 761, 0, 64, 90]], [['note', 67540, 718, 0, 64, 95]], [['note', 68360, 739, 1, 62, 84]], [['note', 69090, 817, 1, 62, 99]], [['note', 69910, 384, 1, 61, 104]], [['note', 69990, 395, 0, 89, 62]], [['note', 70300, 418, 1, 61, 91]], [['note', 70710, 583, 1, 61, 96]], [['note', 70820, 314, 0, 89, 41]], [['note', 71400, 1148, 1, 59, 98]], [['note', 73050, 762, 0, 64, 96]], [['note', 73810, 627, 0, 64, 96]], [['note', 74570, 783, 1, 62, 102]], [['note', 75350, 729, 1, 62, 106]], [['note', 76320, 521, 1, 61, 104]], [['note', 76840, 594, 1, 61, 96]], [['note', 77670, 918, 1, 59, 93]], [['note', 79290, 252, 1, 57, 104]], [['note', 79540, 288, 1, 57, 102]], [['note', 79830, 208, 1, 57, 79]], [['note', 80030, 612, 1, 57, 97]], [['note', 80790, 139, 0, 64, 105]], [['note', 80930, 638, 0, 64, 100]], [['note', 81560, 740, 0, 64, 97]], [['note', 82430, 717, 0, 66, 91]], [['note', 83150, 660, 0, 66, 96]], [['note', 83890, 1053, 0, 64, 99]], [['note', 85540, 762, 1, 62, 95]], [['note', 86300, 681, 1, 62, 96]], [['note', 86980, 853, 1, 61, 102]], [['note', 87830, 681, 1, 61, 94]], [['note', 89360, 142, 1, 59, 93]], [['note', 89510, 161, 1, 59, 110]], [['note', 89670, 266, 1, 59, 110]], [['note', 89940, 208, 1, 59, 75]], [['note', 90250, 670, 1, 57, 102]], [['note', 90920, 161, 1, 57, 108]]]
# [[['note', 12350, 194, 1, 56, 88]], [['note', 12550, 357, 1, 57, 77]], [['note', 12910, 616, 1, 57, 96]], [['note', 13640, 150, 0, 64, 96]], [['note', 13790, 320, 0, 64, 108]], [['note', 14110, 263, 0, 64, 92]], [['note', 14370, 740, 0, 64, 98]], [['note', 15140, 758, 0, 66, 99]], [['note', 15890, 652, 0, 66, 87]], [['note', 16640, 605, 0, 64, 97]], [['note', 17240, 230, 0, 64, 82]], [['note', 18150, 139, 1, 60, 83]], [['note', 18340, 547, 1, 62, 89]], [['note', 18890, 729, 1, 62, 98]], [['note', 19620, 783, 1, 61, 104]], [['note', 20400, 616, 1, 61, 95]], [['note', 21720, 164, 1, 59, 91]], [['note', 21890, 591, 1, 59, 100]], [['note', 22640, 376, 1, 57, 103]], [['note', 23010, 627, 1, 57, 87]], [['note', 24160, 693, 0, 64, 93]], [['note', 24860, 707, 0, 64, 96]], [['note', 25610, 146, 1, 62, 101]], [['note', 25760, 324, 1, 62, 103]], [['note', 26080, 285, 1, 62, 76]], [['note', 26370, 707, 1, 62, 98]], [['note', 27080, 814, 1, 61, 91]], [['note', 27220, 325, 0, 89, 55]], [['note', 27900, 401, 1, 61, 107]], [['note', 28300, 277, 1, 61, 76]], [['note', 28640, 798, 1, 59, 104]], [['note', 29440, 284, 1, 59, 87]], [['note', 30020, 161, 0, 64, 98]], [['note', 30180, 765, 0, 64, 95]], [['note', 30940, 612, 0, 64, 97]], [['note', 31650, 795, 1, 62, 103]], [['note', 32440, 718, 1, 62, 105]], [['note', 33160, 400, 1, 61, 108]], [['note', 33560, 296, 1, 61, 95]], [['note', 33860, 685, 1, 61, 95]], [['note', 34640, 827, 1, 59, 103]], [['note', 36350, 591, 1, 57, 90]], [['note', 36940, 626, 1, 57, 95]], [['note', 37750, 696, 0, 64, 102]], [['note', 38440, 740, 0, 64, 99]], [['note', 39230, 805, 0, 66, 100]], [['note', 40040, 627, 0, 66, 82]], [['note', 40070, 232, 0, 85, 43]], [['note', 40730, 728, 0, 64, 102]], [['note', 41460, 263, 0, 64, 70]], [['note', 42440, 503, 1, 62, 95]], [['note', 43010, 706, 1, 62, 101]], [['note', 43720, 332, 1, 61, 103]], [['note', 44050, 492, 1, 61, 104]], [['note', 44540, 627, 1, 61, 99]], [['note', 45940, 197, 1, 59, 78]], [['note', 46130, 503, 1, 59, 104]], [['note', 46810, 535, 1, 57, 105]], [['note', 47340, 354, 1, 57, 99]], [['note', 47700, 412, 1, 57, 94]], [['note', 54630, 161, 1, 57, 106]], [['note', 54790, 568, 1, 57, 89]], [['note', 55360, 627, 1, 57, 96]], [['note', 56040, 740, 0, 64, 101]], [['note', 56780, 725, 0, 64, 100]], [['note', 57520, 354, 0, 66, 105]], [['note', 57880, 412, 0, 66, 86]], [['note', 58290, 638, 0, 66, 94]], [['note', 59080, 875, 0, 64, 101]], [['note', 59950, 288, 0, 64, 85]], [['note', 60660, 342, 1, 62, 108]], [['note', 61000, 434, 1, 62, 95]], [['note', 61440, 243, 0, 86, 42], ['note', 61440, 557, 1, 62, 102]], [['note', 61990, 175, 1, 62, 87]], [['note', 62170, 838, 1, 61, 107]], [['note', 63010, 718, 1, 61, 95]], [['note', 64550, 139, 1, 59, 108]], [['note', 64690, 150, 1, 59, 111]], [['note', 64840, 353, 1, 59, 95]], [['note', 65280, 627, 1, 57, 105]], [['note', 65910, 525, 1, 57, 82]], [['note', 66780, 761, 0, 64, 90]], [['note', 67540, 718, 0, 64, 95]], [['note', 68360, 739, 1, 62, 84]], [['note', 69090, 817, 1, 62, 99]], [['note', 69910, 384, 1, 61, 104]], [['note', 69990, 395, 0, 89, 62]], [['note', 70300, 418, 1, 61, 91]], [['note', 70710, 583, 1, 61, 96]], [['note', 70820, 314, 0, 89, 41]], [['note', 71400, 1148, 1, 59, 98]], [['note', 73050, 762, 0, 64, 96]], [['note', 73810, 627, 0, 64, 96]], [['note', 74570, 783, 1, 62, 102]], [['note', 75350, 729, 1, 62, 106]], [['note', 76320, 521, 1, 61, 104]], [['note', 76840, 594, 1, 61, 96]], [['note', 77670, 918, 1, 59, 93]], [['note', 79290, 252, 1, 57, 104]], [['note', 79540, 288, 1, 57, 102]], [['note', 79830, 208, 1, 57, 79]], [['note', 80030, 612, 1, 57, 97]], [['note', 80790, 139, 0, 64, 105]], [['note', 80930, 638, 0, 64, 100]], [['note', 81560, 740, 0, 64, 97]], [['note', 82430, 717, 0, 66, 91]], [['note', 83150, 660, 0, 66, 96]], [['note', 83890, 1053, 0, 64, 99]], [['note', 85540, 762, 1, 62, 95]], [['note', 86300, 681, 1, 62, 96]], [['note', 86980, 853, 1, 61, 102]], [['note', 87830, 681, 1, 61, 94]], [['note', 89360, 142, 1, 59, 93]], [['note', 89510, 161, 1, 59, 110]], [['note', 89670, 266, 1, 59, 110]], [['note', 89940, 208, 1, 59, 75]], [['note', 90250, 670, 1, 57, 102]], [['note', 90920, 161, 1, 57, 108]]]
#
# optimize_notes(chords)

